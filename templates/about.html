{% extends "base.html" %}

{% block content %}
<div class="about-container">
    <h1>Architecture & Algorithms</h1>
    <p class="intro">This application is built to demonstrate high-efficiency financial analysis using pure Data
        Structures & Algorithms, implemented from scratch in Python.</p>

    <div class="dsa-grid">
        <div class="dsa-card">
            <h3>1. Data Storage (Hash Map)</h3>
            <p><strong>Goal:</strong> Instant stock retrieval.</p>
            <ul>
                <li><strong>Structure:</strong> Python Dictionary (Hash Table).</li>
                <li><strong>Complexity:</strong> Average <code>O(1)</code> for search and access.</li>
                <li><strong>Implementation:</strong> Stores <code>Stock</code> objects keyed by symbol. Handles
                    collision resolution internally via Python's robust hashing.</li>
            </ul>
        </div>

        <div class="dsa-card">
            <h3>2. Search Engine (Composite)</h3>
            <p><strong>Goal:</strong> Multi-key searching and filtering.</p>
            <ul>
                <li><strong>Structure:</strong> Inverted Index & Linear Scans (optimized).</li>
                <li><strong>Complexity:</strong> <code>O(N)</code> worst case, tailored for composite matching (Symbol +
                    Name + Sector).</li>
                <li><strong>Feature:</strong> Allows partial matching and instant filtering across thousands of records.
                </li>
            </ul>
        </div>

        <div class="dsa-card">
            <h3>3. Ranking System (Heaps)</h3>
            <p><strong>Goal:</strong> Efficient Top-K analysis.</p>
            <ul>
                <li><strong>Structure:</strong> Min-Heap & Max-Heap (`heapq`).</li>
                <li><strong>Complexity:</strong> <code>O(N log K)</code> to find top K elements.</li>
                <li><strong>Advantage:</strong> Far superior to sorting (<code>O(N log N)</code>) when we only need the
                    best performers. Used for Gainers, Losers, and Volume leaders.</li>
            </ul>
        </div>

        <div class="dsa-card">
            <h3>4. Trend Analysis (Deque)</h3>
            <p><strong>Goal:</strong> Sliding Window Calculation.</p>
            <ul>
                <li><strong>Structure:</strong> Double-Ended Queue (`collections.deque`).</li>
                <li><strong>Complexity:</strong> <code>O(1)</code> for appending new prices and popping old ones.</li>
                <li><strong>Usage:</strong> Calculates Simple Moving Averages (SMA) and determines trend direction
                    (UP/DOWN/STABLE) efficiently over a fixed window size.</li>
            </ul>
        </div>

        <div class="dsa-card">
            <h3>5. Sector Aggregation</h3>
            <p><strong>Goal:</strong> Grouping and Statistical Analysis.</p>
            <ul>
                <li><strong>Structure:</strong> Hash Map of Lists.</li>
                <li><strong>Complexity:</strong> <code>O(N)</code> single pass traversal.</li>
                <li><strong>Logic:</strong> Iterates through all stocks once to compute aggregate metrics (Total Volume,
                    Avg Price, Volatility) for every sector simultaneously.</li>
            </ul>
        </div>

        <div class="dsa-card">
            <h3>6. Hybrid Sorting</h3>
            <p><strong>Goal:</strong> Optimized Full Listing.</p>
            <ul>
                <li><strong>Algorithm:</strong> Custom Hybrid Sort.</li>
                <li><strong>Logic:</strong> Uses <strong>Quick Sort</strong> for smaller partitions (partition < 20) to
                        exploit cache locality, and <strong>Merge Sort</strong> for larger datasets to ensure stability
                        and <code>O(N log N)</code> worst-case performance.</li>
            </ul>
        </div>

        <div class="dsa-card" style="grid-column: span 2;">
            <h3>7. Mathematical Formulas & Logic</h3>
            <p><strong>Goal:</strong> Transparent quantitative analysis.</p>

            <div style="margin-top: 15px;">
                <h4 style="color: var(--text-primary); margin-bottom: 5px;">A. Priority Score Formula</h4>
                <p>Used for the <code>score</code> ranking. Higher is better.</p>
                <div
                    style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; font-family: monospace; color: var(--accent); margin: 5px 0 15px 0;">
                    Score = (Price * 0.5) + (Volume * 0.0001) - (Volatility * 50)
                </div>
                <ul style="font-size: 0.9em; color: var(--text-secondary);">
                    <li><strong>Price (0.5)</strong>: Weights the value of the stock relative to portfolio impact.</li>
                    <li><strong>Volume (0.0001)</strong>: Rewards liquidity. Scaled down due to large raw numbers.</li>
                    <li><strong>Volatility (50)</strong>: Penalizes instability. High risk reduces score.</li>
                </ul>
            </div>

            <div style="margin-top: 20px;">
                <h4 style="color: var(--text-primary); margin-bottom: 5px;">B. Simple Moving Average (SMA)</h4>
                <p>Used for trend direction.</p>
                <div
                    style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; font-family: monospace; color: var(--accent); margin: 5px 0 15px 0;">
                    SMA = (Œ£ P_i) / N
                </div>
                <ul style="font-size: 0.9em; color: var(--text-secondary);">
                    <li><strong>P_i</strong>: Price at time interval <em>i</em>.</li>
                    <li><strong>N</strong>: Window size (default 5).</li>
                    <li><strong>Trend Logic</strong>: If Current Price > SMA + 0.5%, Trend = <strong>UP</strong>.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Analytics Dashboard Section -->
    <div style="margin-top: 60px;">
        <h2 style="font-size: 2rem; margin-bottom: 10px; color: var(--text-primary);">üìä Analytics Dashboard</h2>
        <p class="intro">The Analytics Dashboard provides real-time visualization of market data across 6 interactive
            charts,
            automatically refreshing every 5 seconds with live stock data.</p>

        <div class="dsa-grid">
            <div class="dsa-card">
                <h3>1. Market Sentiment üéØ</h3>
                <p><strong>Chart Type:</strong> Doughnut Chart</p>
                <p><strong>Purpose:</strong> Visualizes overall market mood by categorizing stocks into three trend
                    directions.</p>
                <ul>
                    <li><strong style="color: #10b981;">UP (Green):</strong> Stocks trending upward (current price > SMA
                        + 0.5%)</li>
                    <li><strong style="color: #ef4444;">DOWN (Red):</strong> Stocks trending downward (current price <
                            SMA - 0.5%)</li>
                    <li><strong style="color: #6b7280;">STABLE (Gray):</strong> Stocks with minimal movement</li>
                </ul>
                <p><strong>Insight:</strong> Quickly gauge market optimism or pessimism at a glance.</p>
            </div>

            <div class="dsa-card">
                <h3>2. Sector Avg Price üí∞</h3>
                <p><strong>Chart Type:</strong> Vertical Bar Chart</p>
                <p><strong>Purpose:</strong> Compares average stock prices across different market sectors.</p>
                <ul>
                    <li>Each bar represents a sector (Technology, Healthcare, Finance, etc.)</li>
                    <li>Height indicates the average price of stocks in that sector</li>
                    <li>Helps identify premium vs. value sectors</li>
                </ul>
                <p><strong>Insight:</strong> Understand which sectors have higher-priced stocks and sector valuation
                    trends.</p>
            </div>

            <div class="dsa-card">
                <h3>3. Sector Volume Share üìà</h3>
                <p><strong>Chart Type:</strong> Pie Chart</p>
                <p><strong>Purpose:</strong> Shows the distribution of trading volume across sectors.</p>
                <ul>
                    <li>Each slice represents a sector's total trading volume</li>
                    <li>Larger slices indicate higher trading activity</li>
                    <li>Colors differentiate between sectors</li>
                </ul>
                <p><strong>Insight:</strong> Identify which sectors are seeing the most trading activity and investor
                    interest.</p>
            </div>

            <div class="dsa-card">
                <h3>4. Top 5 - Highest Price üèÜ</h3>
                <p><strong>Chart Type:</strong> Horizontal Bar Chart</p>
                <p><strong>Purpose:</strong> Displays the 5 most expensive stocks by current price.</p>
                <ul>
                    <li>Uses heap-based Top-K algorithm for efficient ranking</li>
                    <li>Updates in real-time as prices change</li>
                    <li>Green bars indicate premium stocks</li>
                </ul>
                <p><strong>Insight:</strong> Track the highest-valued stocks in your portfolio or watchlist.</p>
            </div>

            <div class="dsa-card">
                <h3>5. Top 5 - Most Traded üî•</h3>
                <p><strong>Chart Type:</strong> Horizontal Bar Chart</p>
                <p><strong>Purpose:</strong> Shows the 5 stocks with the highest trading volume.</p>
                <ul>
                    <li>Volume indicates liquidity and investor interest</li>
                    <li>Orange bars highlight high-activity stocks</li>
                    <li>Useful for identifying trending stocks</li>
                </ul>
                <p><strong>Insight:</strong> Discover which stocks are attracting the most trading activity.</p>
            </div>

            <div class="dsa-card">
                <h3>6. Risk Analysis ‚ö†Ô∏è</h3>
                <p><strong>Chart Type:</strong> Scatter Plot</p>
                <p><strong>Purpose:</strong> Visualizes the relationship between stock price and volatility.</p>
                <ul>
                    <li><strong>X-axis:</strong> Volatility (risk level)</li>
                    <li><strong>Y-axis:</strong> Price (stock value)</li>
                    <li>Each point represents a stock</li>
                    <li>Top-left quadrant: High price, low risk (ideal)</li>
                    <li>Bottom-right quadrant: Low price, high risk (risky)</li>
                </ul>
                <p><strong>Insight:</strong> Identify safe high-value stocks vs. risky low-value stocks for portfolio
                    balancing.</p>
            </div>
        </div>

        <!-- Real-Time Features -->
        <div
            style="margin-top: 40px; padding: 20px; background: var(--bg-secondary); border: 1px solid var(--border); border-radius: var(--radius);">
            <h3 style="color: var(--accent); margin-bottom: 15px;">üî¥ Real-Time Update Features</h3>
            <ul style="list-style: none; padding-left: 0;">
                <li style="margin-bottom: 12px; padding-left: 25px; position: relative;">
                    <span style="position: absolute; left: 0; color: var(--accent);">‚Ä£</span>
                    <strong>Auto-Refresh:</strong> All charts update automatically every 5 seconds
                </li>
                <li style="margin-bottom: 12px; padding-left: 25px; position: relative;">
                    <span style="position: absolute; left: 0; color: var(--accent);">‚Ä£</span>
                    <strong>Live Indicator:</strong> Green pulsing dot shows when data is being refreshed
                </li>
                <li style="margin-bottom: 12px; padding-left: 25px; position: relative;">
                    <span style="position: absolute; left: 0; color: var(--accent);">‚Ä£</span>
                    <strong>Timestamp Display:</strong> Shows exact time of last data update
                </li>
                <li style="margin-bottom: 12px; padding-left: 25px; position: relative;">
                    <span style="position: absolute; left: 0; color: var(--accent);">‚Ä£</span>
                    <strong>Pause/Resume Control:</strong> User can pause updates to analyze data or resume for live
                    tracking
                </li>
                <li style="margin-bottom: 12px; padding-left: 25px; position: relative;">
                    <span style="position: absolute; left: 0; color: var(--accent);">‚Ä£</span>
                    <strong>Smooth Animations:</strong> Chart.js provides seamless transitions without flickering
                </li>
                <li style="margin-bottom: 12px; padding-left: 25px; position: relative;">
                    <span style="position: absolute; left: 0; color: var(--accent);">‚Ä£</span>
                    <strong>Background Data Sync:</strong> Server fetches live data from Yahoo Finance every 30 seconds
                </li>
            </ul>
        </div>

        <!-- Data Source -->
        <div
            style="margin-top: 20px; padding: 15px; background: rgba(78, 128, 238, 0.1); border-left: 4px solid var(--accent); border-radius: 6px;">
            <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">
                <strong style="color: var(--accent);">üì° Data Source:</strong> Live stock data is fetched from
                <strong>Yahoo Finance API</strong> using the <code>yfinance</code> Python library. The application
                tracks 20 popular stocks including AAPL, GOOGL, MSFT, AMZN, TSLA, and more across Technology,
                Healthcare, Finance, Energy, and Consumer sectors.
            </p>
        </div>
    </div>
</div>
{% endblock %}